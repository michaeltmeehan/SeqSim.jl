name: Julia CI

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        julia-version: ['1.6', '1.7', '1.10']  # Specify Julia versions you want to test against

    steps:
    - uses: actions/checkout@v2  # Checks-out your repository under $GITHUB_WORKSPACE

    - name: Set up Julia
      uses: julia-actions/setup-julia@v1
      with:
        version: ${{ matrix.julia-version }}  # Uses the Julia version from the matrix

    - name: Install dependencies
      run: julia --project=@. -e 'using Pkg; Pkg.instantiate()'  # Install your package dependencies

    - name: Run tests
      run: julia --project=@. -e 'using Pkg; Pkg.test()'  # Run your package tests
